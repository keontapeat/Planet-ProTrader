──────────────────────────────────────────────────────────────────────────────
CRASH FIX – JUST COPY/PASTE THESE 6 LINES (NO EXTRA TEXT)
──────────────────────────────────────────────────────────────────────────────
# 1) stay SSH’d into the VPS
# 2) make sure Xvfb :1 is running (it already is)
# 3) COPY the six lines below as-is  →  RIGHT-CLICK  →  PASTE in Terminal

export WINEPREFIX=$HOME/.wine
winetricks -q vcrun2022
wineserver -k
sleep 2
DISPLAY=:1 wine C:\\opt\\goldex-bot\\winevenv\\Scripts\\python.exe - <<'PY'
import MetaTrader5 as mt5, os, sys; from dotenv import load_dotenv
load_dotenv('/opt/goldex-bot/.env')
ok = mt5.initialize(login=int(os.getenv('DEMO_LOGIN',0)),
                    password=os.getenv('DEMO_PASSWORD',''),
                    server=os.getenv('DEMO_SERVER',''))
print("✅ Connected — Balance:", mt5.account_info().balance) if ok else \
      sys.exit(f"❌ init failed: {mt5.last_error()}")
mt5.shutdown(); sys.exit(0)
PY

# If you see the green ✅ line, immediately launch the bot:
tmux new -s goldex -d "export DISPLAY=:1 && wine C:\\opt\\goldex-bot\\winevenv\\Scripts\\python.exe C:\\opt\\goldex-bot\\goldex_bot.py"
echo '🚀  GoldexBot is now running inside tmux session "goldex".'

# Watch live logs anytime:
#   tmux attach -t goldex   (Ctrl-b  then  d  to detach)
──────────────────────────────────────────────────────────────────────────────