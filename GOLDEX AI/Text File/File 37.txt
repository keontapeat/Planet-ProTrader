──────────────────────────────────────────────────────────────────────────────
VC++ RUNTIME FIX  –  STEP-BY-STEP
──────────────────────────────────────────────────────────────────────────────
1. Install winetricks  (only once)
────────────────────────────────────────────
sudo apt update -y && sudo apt install -y winetricks

2. Install the VC++ 2015-2022 runtime into the SAME Wine prefix
────────────────────────────────────────────
export WINEPREFIX=$HOME/.wine
winetricks -q vcrun2022

3. Re-test MetaTrader5 connectivity
────────────────────────────────────────────
export WINEPREFIX=$HOME/.wine
DISPLAY=:1 \
wine C:\\opt\\goldex-bot\\winevenv\\Scripts\\python.exe - <<'PY'
import MetaTrader5 as mt5, os, sys
from dotenv import load_dotenv
load_dotenv('/opt/goldex-bot/.env')
if not mt5.initialize(login=int(os.getenv('DEMO_LOGIN',0)),
                      password=os.getenv('DEMO_PASSWORD',''),
                      server=os.getenv('DEMO_SERVER','')):
    print("❌ init failed:", mt5.last_error()); sys.exit(1)
print("✅ Connected — Balance:", mt5.account_info().balance)
mt5.shutdown()
PY

4. Launch GoldexBot in tmux (after ✅ appears)
────────────────────────────────────────────
tmux new -s goldex -d "
  export DISPLAY=:1 &&
  wine C:\\opt\\goldex-bot\\winevenv\\Scripts\\python.exe C:\\opt\\goldex-bot\\goldex_bot.py
"
echo '🚀  GoldexBot running inside tmux session "goldex".'

Cheat-sheet
───────────
tmux attach -t goldex        → watch logs live  
Ctrl-b  d                    → detach (leave bot running)  
tmux kill-session -t goldex  → stop the bot  

That’s it—runtime installed, crash gone, bot ready. 🚀
──────────────────────────────────────────────────────────────────────────────